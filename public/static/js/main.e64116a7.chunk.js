(this["webpackJsonpseeintel-client"]=this["webpackJsonpseeintel-client"]||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(22),s=n.n(i),r=(n(73),n(25)),o=n(64),l=n(12),d=n(13),j=n(15),h=n(14),u=n(7),b="http://localhost:5005",O="158ae2dc5324a869064789c1057a62a8f0da5241f6ca98bc52512dd0bfe55259",p=n(8),x=n.n(p),f=n(1);var m=function(e){var t=e.onSignUp;return Object(f.jsxs)("form",{onSubmit:t,children:[Object(f.jsx)("h2",{children:"Sign up to SEEINTELL"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{children:"Username"}),Object(f.jsx)("input",{type:"text",name:"username"})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{for:"email",children:"Email"}),Object(f.jsx)("input",{type:"email",name:"email"})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{for:"password",children:"Password"}),Object(f.jsx)("input",{type:"password",name:"password"})]}),Object(f.jsx)("button",{type:"submit",children:"Sing up"})]})};var v=function(e){var t=e.onSignIn;return e.error,Object(f.jsxs)("form",{onSubmit:t,children:[Object(f.jsx)("h2",{children:"Sign in to SEEINTELL"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{for:"email",children:"Email"}),Object(f.jsx)("input",{type:"email",name:"email"})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{for:"password",children:"Password"}),Object(f.jsx)("input",{type:"password",name:"password"})]}),Object(f.jsx)("button",{type:"submit",children:"Sing in"})]})},g=n(124),y=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).handleSearch=function(t){t.preventDefault();var n=t.target.website.value;e.props.history.push("/search/".concat(n))},e}return Object(d.a)(n,[{key:"render",value:function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h2",{children:"Browse cyber threat intelligence"}),Object(f.jsxs)("form",{onSubmit:this.handleSearch,children:[Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",name:"website",placeholder:"Enter a domain name"})}),Object(f.jsx)("div",{children:Object(f.jsx)(g.a,{type:"submit",color:"inherit",children:"Search"})})]})]})}}]),n}(c.Component),S=Object(u.f)(y),D=n(10),N=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={domainDetails:null},e.fetchData=function(){var t=e.props.match.params.result;x.a.get("https://www.virustotal.com/api/v3/domains/".concat(t),{headers:{"x-apikey":O}}).then((function(t){e.setState({domainDetails:t.data.data})})).catch((function(e){}))},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this.state.domainDetails,t=this.props.onSaveDomain;if(!e)return Object(f.jsx)("h2",{children:"Loading..."});var n=Object.keys(e.attributes.categories),c=Object.keys(e.attributes.last_analysis_results);return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"."}),Object(f.jsx)("h1",{children:"."}),Object(f.jsx)(S,{}),Object(f.jsx)("button",{onClick:function(){t(e)},children:"Save to my dashboard"}),Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"ID:"})," ",e.id]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Type:"})," ",e.type]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Registrar:"})," ",e.attributes.registrar]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Categories"}),". Cyber security companies' APIs list ",e.id," in the following categories:"]}),n.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsx)("ul",{children:Object(f.jsx)("li",{children:Object(f.jsx)("i",{children:e.attributes.categories[t]})})})})})),Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"JARM:"})," ",e.attributes.jarm]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Creation date:"})," ",e.attributes.creation_date]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Last dns records date:"})," ",e.attributes.last_dns_records_date]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Last https_certificate date:"})," ",e.attributes.last_https_certificate_date]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Last modification date:"})," ",e.attributes.last_modification_date]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Last update date:"})," ",e.attributes.last_update_date]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Whois:"})," ",e.attributes.whois]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Whois date:"})," ",e.attributes.whois_date]}),Object(f.jsx)("p",{children:Object(f.jsx)("b",{children:"Last analysis results provided by cyber security companies:"})}),c.map((function(t){return Object(f.jsxs)("div",{children:[Object(f.jsx)("li",{children:Object(f.jsx)("b",{children:t})}),Object(f.jsxs)("p",{children:["Category: ",Object(f.jsx)("i",{children:e.attributes.last_analysis_results[t].category})]}),Object(f.jsxs)("p",{children:["Result: ",Object(f.jsx)("i",{children:e.attributes.last_analysis_results[t].result})]})]})}))]})}}]),n}(c.Component),w=Object(u.f)(N),_=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={notes:[],domains:[]},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;x.a.get("".concat(b,"/api/domains"),{withCredentials:!0}).then((function(t){e.setState({domains:t.data})})).catch((function(e){}))}},{key:"render",value:function(){var e=this.state,t=(e.notes,e.domains);return Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Welcome to your dashboard"}),Object(f.jsx)(S,{}),Object(f.jsx)("h2",{children:"Your saved search results"}),t.map((function(e){return Object(f.jsx)("div",{children:Object(f.jsx)(D.b,{to:"/domains/".concat(e._id),children:e.myDomain})},e._id)}))]})}}]),n}(c.Component),C=n(126),k=n(127),E=n(128),A=n(104),I=n(129),L=Object(C.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function U(e){var t=L(),n=e.user,c=e.onLogout;e.onSignUp,e.onSignIn;return Object(f.jsx)("div",{children:Object(f.jsx)(k.a,{position:"static",children:Object(f.jsxs)(E.a,{children:[Object(f.jsx)(A.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu"}),Object(f.jsx)(I.a,{variant:"h6",className:t.title,children:Object(f.jsx)(D.b,{to:"/",children:"HOME"})}),n?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(D.b,{to:"/user",children:"MY DASHBOARD"}),Object(f.jsx)(g.a,{onClick:c,color:"inherit",children:"Logout"})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(D.b,{to:"/signin",children:Object(f.jsx)(g.a,{color:"inherit",children:"Sign in"})}),Object(f.jsx)(D.b,{to:"/signup",children:Object(f.jsx)(g.a,{color:"inherit",children:"Sign Up"})})]})]})})})}var M=function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"empty"}),Object(f.jsx)("h1",{children:"SEEINTEL is your one-stop source to access cyber threat intelligence from multiple origins"}),Object(f.jsx)(D.b,{to:"/signin",children:Object(f.jsx)(g.a,{color:"inherit",children:"Sign in"})}),Object(f.jsx)(D.b,{to:"/signup",children:Object(f.jsx)(g.a,{color:"inherit",children:"Sign Up"})})]})},R=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={savedNote:[],fetchNote:!0},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.noteId;x.a.get("".concat(b,"/api/notes/").concat(t),{withCredentials:!0}).then((function(t){e.setState({savedNote:t.data,fetchNote:!1})})).catch((function(){console.log("Detail fetch failed")}))}},{key:"render",value:function(){var e=this.state,t=e.savedNote,n=e.fetchNote,c=this.props.onDeleteNote;return n?Object(f.jsx)("p",{children:"Loding ..."}):Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"empty space"}),Object(f.jsx)("h2",{children:"empty space"}),Object(f.jsx)("h2",{children:"Saved notes (will go away)"}),Object(f.jsx)("h3",{children:t.myNote}),Object(f.jsx)(D.b,{to:"/notes/".concat(t._id,"/edit"),children:Object(f.jsx)("button",{children:"Edit"})}),Object(f.jsx)("button",{onClick:function(){c(t)},children:"Delete note"})]})}}]),n}(c.Component),J=Object(u.f)(R),T=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={savedNote:{}},e.handleEditNote=function(t){t.preventDefault();var n=t.target.value,c=e.state.savedNote,a=JSON.parse(JSON.stringify(c));a.myNote=n,e.setState({savedNote:a})},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.noteId;x.a.get("".concat(b,"/api/notes/").concat(t),{withCredentials:!0}).then((function(t){e.setState({savedNote:t.data})})).catch((function(){console.log("Detail fetch failed")}))}},{key:"render",value:function(){var e=this.state.savedNote,t=this.props.onEdit;return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"."}),Object(f.jsx)("h1",{children:"."}),Object(f.jsx)("h1",{children:"Edit note"}),Object(f.jsxs)("form",{children:[Object(f.jsx)("textarea",{onChange:this.handleEditNote,type:"text",value:e.myNote}),Object(f.jsx)("button",{onClick:function(){t(e)},children:"Save note"})]})]})}}]),n}(c.Component),B=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.onAdd;return Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:"Add notes to keep track of things"}),Object(f.jsxs)("form",{onSubmit:e,children:[Object(f.jsx)("textarea",{type:"text",name:"myNote"}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{children:"Save"})})]})]})}}]),n}(c.Component),W=n(132),Y=n(130),F=n(131),P=n(45),G=n.n(P),H=(Object(C.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})),function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={savedDomain:[],fetchDomain:!0,notes:[],savedNote:[],fetchNote:!0},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.domainId;x.a.get("".concat(b,"/api/domains/").concat(t),{withCredentials:!0}).then((function(t){console.log(t.data.myNote),e.setState({savedDomain:t.data,fetchDomain:!1},(function(){console.log(e.state.savedDomain)}))})).catch((function(){console.log("Detail fetch failed")}))}},{key:"render",value:function(){var e,t=this.state,n=t.savedDomain,c=(t.notes,t.savedNote,t.fetchNote,n.myNote),a=this.props,i=a.onAdd,s=a.onDeleteNote,r=this.props.onDeleteDomain,o={};if(!n.data)return Object(f.jsx)("h2",{children:"Loading..."});n.data&&(e=JSON.parse(n.data));Object.keys(e.attributes.categories),Object.keys(e.attributes.last_analysis_results);return Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:"Your Intel"}),Object(f.jsx)(S,{}),Object(f.jsxs)("h3",{children:["SEEINTEL for ",e.id]}),Object(f.jsx)("button",{onClick:function(){r(n)},children:"Delete this search result"}),Object(f.jsx)("h3",{children:"Your notes:"}),c.map((function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)(D.b,{to:"/notes/".concat(e._id),children:e.myNote}),Object(f.jsxs)("div",{children:[Object(f.jsx)(D.b,{to:"/notes/".concat(e._id,"/edit"),children:Object(f.jsx)("button",{children:"Edit"})}),Object(f.jsx)("button",{onClick:function(){s(e)},children:"Delete note"})]})]},e._id)})),Object(f.jsx)(B,{onAdd:i}),Object(f.jsxs)("div",{className:o.root,children:[Object(f.jsxs)(W.a,{children:[Object(f.jsx)(Y.a,{expandIcon:Object(f.jsx)(G.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(f.jsx)(I.a,{className:o.heading,children:"Accordion 1"})}),Object(f.jsx)(F.a,{children:Object(f.jsx)(I.a,{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse malesuada lacus ex, sit amet blandit leo lobortis eget."})})]}),Object(f.jsxs)(W.a,{children:[Object(f.jsx)(Y.a,{expandIcon:Object(f.jsx)(G.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:Object(f.jsx)(I.a,{className:o.heading,children:"Accordion 2"})}),Object(f.jsx)(F.a,{children:Object(f.jsx)(I.a,{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse malesuada lacus ex, sit amet blandit leo lobortis eget."})})]}),Object(f.jsx)(W.a,{disabled:!0,children:Object(f.jsx)(Y.a,{expandIcon:Object(f.jsx)(G.a,{}),"aria-controls":"panel3a-content",id:"panel3a-header",children:Object(f.jsx)(I.a,{className:o.heading,children:"Disabled Accordion"})})})]})]})}}]),n}(c.Component)),z=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={user:null,error:null,fetchingUser:!0,notes:[],domains:[]},e.handleSignUp=function(t){t.preventDefault();var n=t.target,c=n.username,a=n.email,i=n.password,s={username:c.value,email:a.value,password:i.value};x.a.post("".concat(b,"/api/signup"),s,{withCredentials:!0}).then((function(t){e.setState({user:t.data},(function(){e.props.history.push("/user")}))})).catch((function(e){console.log(e)}))},e.handleSignIn=function(t){t.preventDefault();var n=t.target,c=n.email,a=n.password,i={email:c.value,password:a.value};x.a.post("".concat(b,"/api/signin"),i,{withCredentials:!0}).then((function(t){e.setState({user:t.data,null:null},(function(){e.props.history.push("/user")}))})).catch((function(t){e.setState({error:t.response.data})}))},e.handleLogout=function(){x.a.get("".concat(b,"/api/logout"),{withCredentials:!0}).then((function(){e.setState({user:null},(function(){e.props.history.push("/")}))})).catch((function(t){e.setState({error:t.response.data})}))},e.handleAddNote=function(t){t.preventDefault();var n={myNote:t.target.myNote.value};console.log(n),x.a.post("".concat(b,"/api/create"),n,{withCredentials:!0}).then((function(t){console.log(t.data),e.setState({notes:[t.data].concat(Object(o.a)(e.state.notes))})})).catch((function(){console.log("Add note failed")}))},e.handleDeleteNote=function(t){x.a.delete("".concat(b,"/api/notes/").concat(t._id),{withCredentials:!0}).then((function(){var n=e.state.notes.filter((function(e){return e._id!==t._id}));e.setState({notes:n})})).catch((function(){console.log("Delete failed")}))},e.handleEdit=function(t){x.a.patch("".concat(b,"/api/notes/").concat(t._id),t).then((function(){var n=e.state.notes.map((function(e){return e._id==t._id&&(e.myNote=t.myNote),console.log(e),e}));e.setState({notes:n},(function(){e.props.history.push("/user")}))})).catch((function(){console.log("Edit crashed")}))},e.handleSaveDomain=function(t){var n={myDomain:t.id,data:t};x.a.post("".concat(b,"/api/domains/create"),n,{withCredentials:!0}).then((function(t){e.setState({domains:t.data},(function(){e.props.history.push("/user")}))})).catch((function(e){console.log(e)}))},e.handleDeleteDomain=function(t){x.a.delete("".concat(b,"/api/domains/").concat(t._id),{withCredentials:!0}).then((function(){var n=e.state.domains.filter((function(e){return e._id!==t._id}));e.setState({domains:n},(function(){e.props.history.push("/user")}))})).catch((function(){console.log("Delete failed")}))},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;x.a.get("".concat(b,"/api/user"),{withCredentials:!0}).then((function(t){e.setState({user:t.data,fetchingUser:!1})})).catch((function(t){e.setState({error:t.response.data,fetchingUser:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.error,c=t.user,a=t.notes,i=t.domains;return Object(f.jsxs)("div",{children:[Object(f.jsx)(U,{onLogout:this.handleLogout,user:c}),Object(f.jsxs)(u.c,{children:[Object(f.jsx)(u.a,{exact:!0,path:"/",component:M}),Object(f.jsx)(u.a,{path:"/user",render:function(e){return Object(f.jsx)(_,Object(r.a)({domains:i},e))}}),Object(f.jsx)(u.a,{path:"/search/:result",render:function(t){return Object(f.jsx)(w,Object(r.a)({onSaveDomain:e.handleSaveDomain},t))}}),Object(f.jsx)(u.a,{path:"/signin",error:n,render:function(t){return Object(f.jsx)(v,Object(r.a)({onSignIn:e.handleSignIn},t))}}),Object(f.jsx)(u.a,{path:"/signup",render:function(t){return Object(f.jsx)(m,Object(r.a)({onSignUp:e.handleSignUp},t))}}),Object(f.jsx)(u.a,{exact:!0,path:"/domains/:domainId",render:function(t){return Object(f.jsx)(H,Object(r.a)({notes:a,onAdd:e.handleAddNote,onDeleteNote:e.handleDeleteNote,onDeleteDomain:e.handleDeleteDomain},t))}}),Object(f.jsx)(u.a,{exact:!0,path:"/notes/:noteId",render:function(t){return Object(f.jsx)(J,Object(r.a)({onDeleteNote:e.handleDeleteNote},t))}}),Object(f.jsx)(u.a,{exact:!0,path:"/notes/:noteId/edit",render:function(t){return Object(f.jsx)(T,Object(r.a)({onEdit:e.handleEdit},t))}})]})]})}}]),n}(c.Component),q=Object(u.f)(z);s.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(D.a,{children:Object(f.jsx)(q,{})})}),document.getElementById("root"))},73:function(e,t,n){}},[[102,1,2]]]);
//# sourceMappingURL=main.e64116a7.chunk.js.map